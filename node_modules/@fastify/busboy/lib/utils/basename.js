'use strict'

module.exports = function basename(path) {
  if (typeof path !== 'string') {
    return ''
  }

  path = path.replace(/[/\\]$/, '').replace(/[/\\]+\./g, '.');

  if (path === '..' || path === '.') {
    return ''
  }

  const index = path.lastIndexOf('.');
  return index === -1 ? path : path.slice(0, index);
}
