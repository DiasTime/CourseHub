'use strict'

<<<<<<< HEAD
module.exports = function basename (path) {
  if (typeof path !== 'string') { return '' }
  for (var i = path.length - 1; i >= 0; --i) { // eslint-disable-line no-var
    switch (path.charCodeAt(i)) {
      case 0x2F: // '/'
      case 0x5C: // '\'
        path = path.slice(i + 1)
        return (path === '..' || path === '.' ? '' : path)
    }
  }
  return (path === '..' || path === '.' ? '' : path)
=======
module.exports = function basename(path) {
  if (typeof path !== 'string') {
    return ''
  }

  path = path.replace(/[/\\]$/, '').replace(/[/\\]+\./g, '.');

  if (path === '..' || path === '.') {
    return ''
  }

  const index = path.lastIndexOf('.');
  return index === -1 ? path : path.slice(0, index);
>>>>>>> 92dec27fdf3ebcb1f8ae0a00c18d5f3e95d36a79
}
